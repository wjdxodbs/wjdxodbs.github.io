import{r as x,a as f,R as g,c as j,j as s}from"./index-BohN-prE.js";import{a as v}from"./index-C3L-7PwV.js";import{s as S,i as y}from"./atoms-CA8bg32I.js";import{T as M,t as R}from"./toastMsg-CDmmK2oQ.js";const _=()=>{const o=x.useRef(null),c=f(),l=g(S),[e,n]=j(y),i=async t=>{const a=t.trim(),r=encodeURIComponent(a);r!==""?c(`/music/search/results?query=${r}`,{replace:!0}):c("/music/search",{replace:!0})},u=t=>{n(t.target.value),t.target.value===""&&i("")},d=t=>{t.preventDefault(),e!==""&&(i(e),e.trim()!==""?l(a=>{const r=a.length?a[0].id+1:0,p=a.filter(h=>h.title!==e);return[{id:r,title:e},...p]}):(R("검색어를 입력하세요"),n("")))},m=()=>{n(""),i("")};return s.jsxs("div",{className:"MusicSearchInput",children:[s.jsx("form",{onSubmit:d,children:s.jsxs("div",{className:"input-div",children:[s.jsx("input",{className:"input",ref:o,type:"text",placeholder:"쓰롱 할 음악을 검색하세요",value:e,onChange:u,maxLength:30}),e&&s.jsx(v,{className:"clear-button",onClick:m})]})}),s.jsx(M,{})]})};export{_ as M};
