import{d as F,i as w,j as e,u as L,r as a}from"./index--1xDB21s.js";import{d as J,a as D}from"./FavoriteBorder-ACl9nPhB.js";import{d as R,p as P,g as z,a as V,b as $}from"./board-trRPgBQ3.js";import{b as Y}from"./backSymbol-0aRp874W.js";import{d as O}from"./EditNote-91XLLkrG.js";import{H as T}from"./Header-yJKLV6py.js";import"./commons--RmDgXK-.js";import"./axios-L6U4YIEh.js";const M="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAYAAACo29JGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOLSURBVHgB7ZpbiE1RGMf/jpmQwRAaGZkYklt5kCmXEimX8ICUB8QrXnjgAS/S4MmLJFJK8iAveBAPRG5D7iGZzCCkxv0wxvj+rXNqn7XWsfc5s885a53Or/6n9m3t7ztrr29969sbAJpED0R/Rd1lIPrxSbS+l/zcFU1D+dGRkJ9hKE9q6dw3lCfdVVDPZ5Bzov3wjwWiHYHtJJ17LZoZ2DlIdE30B36xSNt+xceyRds5HspBn2AnzdL2PeHPVFEnMkPpUvjFKNEXZE4JG3mgv6hVO3AGfsGxFrSfQbIhfbBZO8ienAA/6Cd6g0z7L4mq0ydMgtmt7L3ecJ9tMLOUNfpJJ2D23jy4zUSoqSxo933RYP3ERtEP7cQ20Ti4yUDRZZh5ZdZguB1mF98UjYBbcJydgmnrFVEi20U1okeWi25BhVsXoI0nYa5iGFQawy7mCW0wHXwhmoLSMhwq0Om2fRctj9rIXNF7SyPtKF2QaYAaIrpNSagJu1cujdHBr5bG3olW5NpYD+F6s8Viy0/R1nxtYaPPYf+3NqHw8yCNni/6YLGhQ7QWPfyTx0AFFL1xrhp2iQagMNDoZTCTC+otYhwe9aILsA/kw1D5aZzwidical+/5zPRHMQMHTgu6rLc8KJoKOKhj2hflvtcF41GgWAyylV60nJjJqs9TbY5hx2BvaLF9oegwHCMMVlNWgy4IRqL/KiDPetgDx4V1aKIMFJ1wJ6u5ToGmTIdQ+aimfot2oMiO5aGSepLmA4eQG4wKurpFJP4vOewOOA/PhtmusZ5aXLENviY34Hp2AY4AstqnPeCBjZHvHad5drdUFHTGc4i08DHCI9uCct1rVBLGqdYCDPvawq5ZqToqXbdTsREAvHBdeDnwHZfqNTtf9SlFOQqYiJO55gqtWv7wkI4p4wabV8bYiJO5xjKO7V91Qi/f1Vgu9vSRt7E6ZxzVJzzlYpzvlJxzlcqzvlKxbkCwZwycn0/H6pQfFg2mCE6KJquHetKKRaK7Rw/AWFNchXsK4bzoo9wEBp7D5kLzy2pY1wdsPz9EGYxKV3lOgT1ispJsjnHsbUX9jdGFL9gWokSVrmiYHPutOg2sn/Lyeq1s70VxOacTXSUJYnF8IgozrGEx3cBXvRWkDDn+EJ+NcJLD05C5/hJse7UL6hIWAePYSVL/9KAkXAJHI+EUeE7dH6exPol37jWo4T8A7CzoWgJ7WGLAAAAAElFTkSuQmCC";var S={},q=w;Object.defineProperty(S,"__esModule",{value:!0});var I=S.default=void 0,G=q(F()),W=e;I=S.default=(0,G.default)((0,W.jsx)("path",{d:"M11 11V3H5c-1.1 0-2 .9-2 2v6zm2 0h8V5c0-1.1-.9-2-2-2h-6zm-2 2H3v6c0 1.1.9 2 2 2h6zm2 0v8h6c1.1 0 2-.9 2-2v-6z"}),"Window");var y={},K=w;Object.defineProperty(y,"__esModule",{value:!0});var H=y.default=void 0,U=K(F()),Z=e;H=y.default=(0,U.default)((0,Z.jsx)("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m0 14H6l-2 2V4h16z"}),"ChatBubbleOutline");const Q=({data:s,category:f})=>{const h=L(),c=l=>{const d=new Date(l),p=Math.floor((new Date().getTime()-d.getTime())/1e3);if(p<60)return"방금 전";const g=p/60;if(g<60)return`${Math.floor(g)}분 전`;const N=g/60;if(N<24)return`${Math.floor(N)}시간 전`;const A=N/24;return A<7?`${Math.floor(A)}일 전`:`${d.toLocaleDateString()}`},o=l=>{h(`/media/board/${l}`,{state:{categoryId:f}})},[i,n]=a.useState(),[u,r]=a.useState(),v=async l=>{await R(l).then(d=>{n(!1),r(x=>x-1)})},b=async l=>{await P(l).then(d=>{n(!0),r(x=>x+1)})};return a.useEffect(()=>{s.isLiked?(n(!0),r(s.likeCnt)):(n(!1),r(s.likeCnt))},[]),e.jsxs("li",{className:"shadow board-contents",children:[e.jsxs("div",{className:"board-title-area",children:[e.jsx("img",{className:"board-profile",src:s.profileImageUrl,alt:""}),e.jsx("div",{className:"nick",children:s.nickName})]}),e.jsx("img",{className:"main-img",src:s.boardImageUrl,alt:"",onClick:()=>o(s.boardId)}),e.jsxs("div",{className:"content",children:[e.jsx("div",{className:"post-text",children:s.content}),e.jsxs("div",{className:"hashtag-list",children:[s.fishName&&e.jsx("div",{className:"hashtag blue-bd",children:e.jsxs("span",{className:"blue-fc",children:["#",s.fishName]})}),s.hashtags&&e.jsx(e.Fragment,{children:s.hashtags.map((l,d)=>e.jsx("div",{className:"hashtag blue-bd",children:e.jsxs("span",{className:"blue-fc",children:["#",l]})},d))})]}),e.jsx("div",{className:"post-bottom",children:e.jsx("div",{className:"time",children:c(s.createdAt)})}),e.jsxs("div",{className:"post-info",children:[e.jsx("div",{className:"post-icon",children:e.jsx(H,{})}),e.jsx("div",{className:"comment",children:s.commentCnt}),i&&e.jsx("div",{className:"post-icon post-like",children:e.jsx(J,{onClick:()=>v(s.boardId)})}),!i&&e.jsx("div",{className:"post-icon",children:e.jsx(D,{onClick:()=>b(s.boardId)})}),e.jsx("div",{className:"like",children:u})]})]})]})},X=({category:s,viewType:f,fishType:h,hashType:c,sortType:o})=>{const[i,n]=a.useState([]),u=async(r,v,b,l)=>{await z(r,v,b,l).then(d=>n(d)),console.log(i)};return a.useEffect(()=>{u(s,h,c,o)},[s,h,c,o]),e.jsx(e.Fragment,{children:e.jsx("ul",{className:`${f==0?"full-size":"mini-size"}`,children:i.boards&&e.jsx(e.Fragment,{children:i.boards.map(r=>e.jsx(Q,{data:r,category:s},r.boardId))})})})},_=({category:s,closeCheck:f,filterBoard:h})=>{const[c,o]=a.useState(),[i,n]=a.useState(),[u,r]=a.useState(),[v,b]=a.useState([]),[l,d]=a.useState([]),[x,p]=a.useState([]),[g,N]=a.useState(!1),[A,m]=a.useState(!1);a.useEffect(()=>{C(s)},[s]);const C=t=>{t==1?V().then(j=>{b(j.sea),d(j.freshWater)}):t==2&&$().then(j=>{console.log(j),p(j)})},k=t=>{t==1?N(j=>!j):t==2&&m(j=>!j)},B=()=>{h(c,i,u),o(),n(),r(),f()},E=()=>{o(""),n("")};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"board-filter-area",children:[e.jsx("img",{src:Y,alt:"",className:"back-fish-lish",onClick:()=>f()}),e.jsx("div",{className:"reset",onClick:()=>E(),children:"초기화"}),e.jsx("div",{className:"filter-sub",children:"정렬"}),e.jsxs("div",{className:"sort-area",children:[e.jsxs("label",{className:`sort-label ${c==="comments"?"blue-bd":""}`,children:[e.jsx("div",{children:"댓글순"}),e.jsx("input",{type:"radio",className:"sort-type",value:"comment",checked:c==="comments",onChange:()=>o("comments")})]}),e.jsxs("label",{className:`sort-label ${c==="createdAt"?"blue-bd":""}`,children:[e.jsx("div",{children:"최신순"}),e.jsx("input",{type:"radio",className:"sort-type",value:"createdAt",checked:c==="createdAt",onChange:()=>o("createdAt")})]}),e.jsxs("label",{className:`sort-label ${c==="likes"?"blue-bd":""}`,children:[e.jsx("div",{children:"좋아요순"}),e.jsx("input",{type:"radio",className:"sort-type",value:"likes",checked:c==="likes",onChange:()=>o("likes")})]})]}),s==1&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"filter-sub",children:"바다 어종"}),e.jsxs("div",{className:`filter-fish ${g?"view":""}`,children:[e.jsx("div",{className:"morefish",onClick:()=>k(1),children:"모두보기"}),v.map(t=>e.jsxs("label",{className:`filter-fish-list ${i==t.id?"blue-bd":""}`,children:[e.jsx("div",{children:t.name}),e.jsx("input",{type:"radio",className:"sort-type",value:t.id,checked:i==t.id,onChange:()=>{n(t.id),console.log(i)}})]},t.id))]}),e.jsx("div",{className:"filter-sub",children:"민물 어종"}),e.jsxs("div",{className:`filter-fish ${A?"view":""}`,children:[e.jsx("div",{className:"morefish",onClick:()=>k(2),children:"모두보기"}),l.map(t=>e.jsxs("label",{className:`filter-fish-list ${i===t.id?"blue-bd":""}`,children:[e.jsx("div",{children:t.name}),e.jsx("input",{type:"radio",className:"sort-type",value:t.id,checked:i===t.id,onChange:()=>{n(t.id),console.log(i)}})]},t.id))]})]}),s==2&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"filter-sub",children:"추천태그"}),e.jsx("div",{className:"filter-fish",children:x&&e.jsx(e.Fragment,{children:x.map(t=>e.jsxs("label",{className:`filter-fish-list ${u===t.id?"blue-bd":""}`,children:[e.jsx("div",{children:t.name}),e.jsx("input",{type:"radio",className:"sort-type",value:t.id,checked:u===t.id,onChange:()=>{r(t.id)}})]},t.id))})})]}),e.jsx("div",{className:"filter-button bg-blue shadow",onClick:()=>B(),children:"적용하기"})]})})},ne=()=>{const[s,f]=a.useState(1),[h,c]=a.useState(0),[o,i]=a.useState(!1),[n,u]=a.useState(""),[r,v]=a.useState(""),[b,l]=a.useState(""),d=()=>{i(!1)},x=m=>{f(m),u(""),v(""),l("")},p=m=>{c(m)},g=L(),N=()=>{g("/media/board/create",{state:{categoryId:s}})},A=(m,C,k)=>{console.log(m),m&&u(m),C&&v(C),k&&l(k)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"category-boardpage ",children:[e.jsx(T,{}),e.jsxs("div",{className:"category-header blue-bd",style:{borderWidth:"1px 0"},children:[e.jsxs("div",{className:`category-title ${s==1?"blue-fc":""}`,onClick:()=>x(1),children:[e.jsx("div",{className:`underbar ${s==1?"bg-blue":"none"}`}),"물고기"]}),e.jsxs("div",{className:`category-title ${s==2?"blue-fc":""}`,onClick:()=>x(2),children:[e.jsx("div",{className:`underbar ${s==2?"bg-blue":"none"}`}),"장소자랑"]})]}),e.jsxs("div",{className:"type-select",children:[e.jsx("div",{className:`full ${h==0&&"bg-blue"}`,onClick:()=>p(0)}),e.jsx("div",{className:`divide ${h==1&&"active"}`,onClick:()=>p(1),children:e.jsx(I,{})}),e.jsx("input",{type:"checkbox",id:"check",checked:o,onChange:()=>i(m=>!m)}),e.jsx("label",{htmlFor:"check",className:"filter",children:e.jsx("img",{src:M,alt:""})}),e.jsx("div",{className:"board-filter",children:e.jsx(_,{category:s,closeCheck:d,filterBoard:A})})]}),e.jsx(X,{category:s,viewType:h,sortType:n,fishType:r,hashType:b}),e.jsx("div",{className:"create-post-btn bg-blue",onClick:()=>N(),children:e.jsx(O,{})})]})})};export{ne as default};
