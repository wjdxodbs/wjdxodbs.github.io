import{a as i,r as a,j as n,O as c,N as u}from"./index-QuTG2RZ5.js";import{g as p}from"./getIsLogin-3eh5YsRU.js";const m=async()=>{if("permissions"in navigator)try{return(await navigator.permissions.query({name:"geolocation"})).state}catch{return"blocked"}else return"not-supported"};function d(){const t=p(),o=i();return a.useEffect(()=>{if(!t)return;const e=async()=>{const r=await m();["granted","prompt"].includes(r)||o("none-permission",{replace:!0})};e();const s=()=>{e()};return window.addEventListener("focus",s),()=>{window.removeEventListener("focus",s)}},[]),t?n.jsx(c,{}):n.jsx(u,{to:"/login",replace:!0})}export{d as default};
