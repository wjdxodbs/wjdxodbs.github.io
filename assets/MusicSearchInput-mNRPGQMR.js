import{r as x,a as f,e as g,d as j,j as s}from"./index-D9TI3flP.js";import{a as v}from"./index-BZLqnVR5.js";import{s as M,i as S}from"./Header-CxOm7fUg.js";import{T as N,t as C}from"./toastMsg-BB3gaCBj.js";const E=()=>{const c=x.useRef(null),r=f(),l=g(M),[t,i]=j(S),n=async e=>{e.trim()!==""?r(`/music/search/${e}`):r("/music/search",{replace:!0})},o=e=>{i(e.target.value),e.target.value===""&&n("")},u=e=>{e.preventDefault(),t!==""&&(n(t),t.trim()!==""?l(a=>{const d=a.length?a[a.length-1].id+1:1,p=a.filter(h=>h.title!==t);return[{id:d,title:t},...p]}):(C("검색어를 입력하세요"),i("")))},m=()=>{i(""),n("")};return s.jsxs("div",{className:"MusicSearchInput",children:[s.jsx("form",{onSubmit:u,children:s.jsxs("div",{className:"input-div",children:[s.jsx("input",{className:"input",ref:c,type:"text",placeholder:"검색어를 입력하세요.",value:t,onChange:o,maxLength:30}),t&&s.jsx(v,{className:"clear-button",onClick:m})]})}),s.jsx(N,{})]})};export{E as M};
