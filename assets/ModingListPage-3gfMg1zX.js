import{r as l,j as e,L as c}from"./index-u2Gvw5X7.js";import{u as m}from"./useQuery-Cx8EM3Vh.js";import{S as x,M as u}from"./MovieListItem-C_a9i-yc.js";import{P as d,b as g}from"./ProgressArea-CnfIdaEp.js";import"./commons-D5rr2GKD.js";import"./axios-Bo0ATomq.js";const h=({status:i,getModingBack:n})=>{const[s,o]=l.useState(),{data:r}=m({queryKey:["modingListResult",i],queryFn:()=>g(i)});return l.useEffect(()=>{r&&(o(r),console.log(s),s&&n(s[0].poster))},[r,s]),e.jsx(e.Fragment,{children:s&&e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex flex-col mt-3 px-[1.6vh] relative",children:[e.jsx(c,{to:`/fund/list/${s[0].movieId}`,state:{type:"list"},children:e.jsx("img",{className:"w-[100%] aspect-square object-cover brightness-[90%]",src:s[0].poster,alt:""})}),e.jsx("div",{className:"absolute w-[100%] top-0 right-3",children:e.jsx(x,{status:s[0].status,textSize:"3vh"})}),e.jsxs("div",{className:"mt-2",children:[s[0].status=="무딩중"&&e.jsx(e.Fragment,{children:e.jsx(d,{crowd:s[0].crowdCnt,joinCnt:s[0].peopleCnt,height:"4vh",size:"big"})}),s[0].status=="무딩 준비 중"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"absolute right-5 bottom-3 text-white text-2xl",children:[s[0].requestCnt,"/200"]})})]}),e.jsx("div",{className:"absolute text-8xl top-0",children:"1"})]}),e.jsx("div",{className:"movie-list relative none-scroller px-[1.6vh] mt-10 grid grid-cols-3 gap-[1.2vh] overflow-auto pb-20",children:s.map((t,a)=>a!==0?e.jsxs("div",{className:"relative",children:[e.jsx(c,{to:`/fund/list/${t.movieId}`,state:{type:"list"},children:e.jsx(u,{state:t.status,url:t.poster,heigth:"23vh"})}),e.jsx("div",{className:"absolute top-0 left-1 text-[4vh]",children:a+1}),e.jsxs("div",{className:"mt-1 mb-3",children:[t.status=="무딩중"&&e.jsx(e.Fragment,{children:e.jsx(d,{crowd:t.crowdCnt,joinCnt:t.peopleCnt,height:"1vh",size:"small"})}),t.status=="무딩 준비 중"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"absolute bottom-[2vh] right-1",children:[t.requestCnt,"/200"]})})]})]},a):null)})]})})},C=()=>{const[i,n]=l.useState("progress"),[s,o]=l.useState(""),r=a=>{o(a)};l.useEffect(()=>{},[r]);const t="flex flex-col items-center text-[1.7vh] basis-1/2 p-1";return e.jsxs("div",{className:"fundinglist-container",style:{backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.9)), url(${s})`,backgroundSize:"auto 800px, contain",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"text-center text-3xl pt-3",children:"MODING"}),e.jsxs("div",{className:"flex justify-around mt-2",children:[e.jsxs("div",{className:`${t} border-red-700 ${i=="progress"?"select":""}`,onClick:()=>n("progress"),children:[e.jsx("div",{children:"무딩중"}),e.jsx("div",{children:"TOP10"})]}),e.jsxs("div",{className:`${t} border-red-700 ${i=="request"?"select":""}`,onClick:()=>n("request"),children:[e.jsx("div",{children:"무딩 요청"}),e.jsx("div",{children:"TOP10"})]})]}),e.jsx(h,{status:i,getModingBack:r})]})};export{C as default};
