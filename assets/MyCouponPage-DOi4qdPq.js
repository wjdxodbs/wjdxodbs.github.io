import{r as l,j as o}from"./index-BRTXqXD8.js";import{H as u}from"./Header-2_9HD2r7.js";import{d as p}from"./dayjs.min-Ccx1GtWW.js";import"./ping-Bhccv61s.js";const t=()=>{const[a,r]=l.useState([{couponId:1,couponName:"무제한 Throw",couponDesc:"1시간 동안 무제한으로 음악을 Throw가 가능해요!",couponEndDate:"2024-05-06T00:00:00",couponApply:!1},{couponId:2,couponName:"무제한 Throw",couponDesc:"1시간 동안 무제한으로 음악을 Throw가 가능해요!",couponEndDate:"2024-05-10T00:00:00",couponApply:!1},{couponId:3,couponName:"범위 밖 노래 정보 조회",couponDesc:"내 범위구역 밖에 있는 노래들의 상세 정보를 조회할 수 있어요!",couponEndDate:"2024-05-06T00:00:00",couponApply:!1},{couponId:4,couponName:"범위 밖 노래 정보 조회",couponDesc:"내 범위구역 밖에 있는 노래들의 상세 정보를 조회할 수 있어요!",couponEndDate:"2024-05-05T00:00:00",couponApply:!0}]),i=n=>{window.confirm("쿠폰을 적용하겠습니까?")&&r(e=>e.map(s=>{if(s.couponId===n)if(e.some(d=>d.couponName===s.couponName&&d.couponApply))alert("이미 동일한 쿠폰이 적용 중입니다.");else return{...s,couponApply:!0};return s}))};return o.jsx("div",{className:"MyCouponBody",children:a.length>0?a.map(n=>{const c=p(n.couponEndDate).diff(p(),"day"),e=c<=3;return o.jsxs("div",{className:"coupon-body",children:[o.jsxs("div",{className:"coupon-header",children:[o.jsx("div",{className:"coupon-title",children:n.couponName}),o.jsx("div",{className:"coupon-desc",children:n.couponDesc})]}),o.jsx("div",{className:"coupon-apply",onClick:()=>!n.couponApply&&i(n.couponId),children:o.jsx("div",{className:`coupon-apply-btn ${n.couponApply&&"coupon-apply-active"}`,children:n.couponApply?"사용 중":"적용 안됨"})}),o.jsx("hr",{}),o.jsxs("div",{className:"coupon-end-date",children:[o.jsx("div",{className:`${e&&"coupon-end-date-how-imminent"}`,children:`D-${c}`}),o.jsxs("div",{className:"coupon-end-date-when",children:[p(n.couponEndDate).format("YY/MM/DD")," 00:00:00까지"]})]})]},n.couponId)}):o.jsxs("div",{children:[o.jsx("div",{children:"앗"}),o.jsx("div",{children:"사용 가능한 쿠폰이 없습니다."})]})})},N=()=>o.jsxs("div",{className:"MyCouponPage",children:[o.jsx(u,{centerText:"쿠폰함"}),o.jsx("div",{className:"body none-scroll",children:o.jsx(t,{})})]});export{N as default};
