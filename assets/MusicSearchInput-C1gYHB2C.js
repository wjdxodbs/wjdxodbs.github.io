import{r as x,a as f,e as g,d as j,j as s}from"./index-C8Kc-txd.js";import{a as v}from"./index-DO6t8InH.js";import{s as M,i as S}from"./atoms-CANLVd0z.js";import{T as N,t as C}from"./toastMsg-B66KevN6.js";const E=()=>{const c=x.useRef(null),r=f(),l=g(M),[e,a]=j(S),i=async t=>{t.trim()!==""?r(`/music/search/${t}`,{replace:!0}):r("/music/search",{replace:!0})},o=t=>{a(t.target.value),t.target.value===""&&i("")},u=t=>{t.preventDefault(),e!==""&&(i(e),e.trim()!==""?l(n=>{const d=n.length?n[0].id+1:0,p=n.filter(h=>h.title!==e);return[{id:d,title:e},...p]}):(C("검색어를 입력하세요"),a("")))},m=()=>{a(""),i("")};return s.jsxs("div",{className:"MusicSearchInput",children:[s.jsx("form",{onSubmit:u,children:s.jsxs("div",{className:"input-div",children:[s.jsx("input",{className:"input",ref:c,type:"text",placeholder:"검색어를 입력하세요.",value:e,onChange:o,maxLength:30}),e&&s.jsx(v,{className:"clear-button",onClick:m})]})}),s.jsx(N,{})]})};export{E as M};
