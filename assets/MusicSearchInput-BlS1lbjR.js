import{r as x,a as f,R as g,e as j,j as s}from"./index-C8SrrZYJ.js";import{b as v}from"./index-C5rc0fQb.js";import{s as S,i as y}from"./atoms-BNKV5zzf.js";import{T as M,t as R}from"./toastMsg-D9ve-OL3.js";const T=()=>{const o=x.useRef(null),c=f(),l=g(S),[e,n]=j(y),i=async t=>{const a=t.trim(),r=encodeURIComponent(a);r!==""?c(`/music/search/results?query=${r}`,{replace:!0}):c("/music/search",{replace:!0})},u=t=>{n(t.target.value),t.target.value===""&&i("")},d=t=>{t.preventDefault(),e!==""&&(i(e),e.trim()!==""?l(a=>{const r=a.length?a[0].id+1:0,p=a.filter(h=>h.title!==e);return[{id:r,title:e},...p]}):(R("검색어를 입력하세요"),n("")))},m=()=>{n(""),i("")};return s.jsxs("div",{className:"MusicSearchInput",children:[s.jsx("form",{onSubmit:d,children:s.jsxs("div",{className:"input-div",children:[s.jsx("input",{className:"input",ref:o,type:"text",placeholder:"검색어를 입력하세요.",value:e,onChange:u,maxLength:30}),e&&s.jsx(v,{className:"clear-button",onClick:m})]})}),s.jsx(M,{})]})};export{T as M};
