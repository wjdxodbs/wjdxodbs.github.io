import{r as c,j as t,M as n}from"./index-CyJMHAaD.js";import{H as d}from"./Header-BbWABMqn.js";import{a as l}from"./common-BDZuGjqk.js";import"./iconBase-D1PkVRQ-.js";import"./AddressContent-DoYNq8eZ.js";const p=l(),m=async()=>{try{const{data:s}=await p.get("/users/watch/otp");return s}catch(s){throw console.log(s),s}},x=()=>{const[s,i]=c.useState(""),[e,a]=c.useState(0),o=async()=>{const r=await m();i(r),a(60),setTimeout(()=>{i(""),a(0)},6e4)};return c.useEffect(()=>{if(e>0){const r=setInterval(()=>{a(e-1)},1e3);return()=>clearInterval(r)}},[e]),t.jsxs("div",{className:"MyOtpBody",children:[t.jsxs("div",{className:"otp-title",children:[s?t.jsx("div",{className:"otp-number",children:s}):t.jsx("div",{className:"otp-no-result",children:"발급된 번호가 없습니다"}),t.jsxs("div",{className:"otp-desc",children:[t.jsx("div",{children:"60초 내에 발급된 번호를"}),t.jsx("div",{children:"워치 화면에 입력해주세요"}),s!==""&&t.jsxs("div",{children:["유효시간 : ",e,"초"]})]})]}),t.jsx(n,{onClick:o,btnText:"발급받기"})]})},y=()=>t.jsxs("div",{className:"OtpPage",children:[t.jsx(d,{centerText:"연동하기"}),t.jsx("div",{className:"body",children:t.jsx(x,{})})]});export{y as default};
