import{r as h,a as x,e as g,d as j,j as s}from"./index-umzlOXzV.js";import{a as v}from"./index-P9EyL1ui.js";import{s as M,i as S}from"./atoms-rojZeRRt.js";import{T as N}from"./ToasterMsg-CoxkjN90.js";import{t as C}from"./toastMsg-CdOz8FDm.js";const I=()=>{const c=h.useRef(null),n=x(),o=g(M),[t,a]=j(S),i=async e=>{e.trim()!==""?n(`/music/search/${e}`,{replace:!0}):n("/music/search",{replace:!0})},l=e=>{a(e.target.value),e.target.value===""&&i("")},u=e=>{e.preventDefault(),t!==""&&(i(t),t.trim()!==""?o(r=>{const p=r.length?r[0].id+1:0,d=r.filter(f=>f.title!==t);return[{id:p,title:t},...d]}):(C("검색어를 입력하세요"),a("")))},m=()=>{a(""),i("")};return s.jsxs("div",{className:"MusicSearchInput",children:[s.jsx("form",{onSubmit:u,children:s.jsxs("div",{className:"input-div",children:[s.jsx("input",{className:"input",ref:c,type:"text",placeholder:"검색어를 입력하세요.",value:t,onChange:l,maxLength:30}),t&&s.jsx(v,{className:"clear-button",onClick:m})]})}),s.jsx(N,{})]})};export{I as M};
