import{r as u,R as x,j as e,u as S}from"./index-BijGbkQP.js";import{i as N,s as v,H as y}from"./Header-KgB9NWyF.js";import{a as g}from"./index-AUmAa_oU.js";import{b as h,피 as j,a as p}from"./피카3-CreKFrlu.js";import"./iconBase-CzflKyvc.js";const C=({onSearch:a,title:c,setTitle:l})=>{const s=u.useRef(null),[t,i]=x(N);u.useEffect(()=>{s.current.focus()},[]);const n=m=>{l(m.target.value),m.target.value===""&&(i(""),a(""))},d=m=>{m.preventDefault(),i(c),a(c),s.current.blur()},r=()=>{l(""),s.current.focus(),i(""),a("")};return e.jsx("form",{className:"MusicSearchInput",onSubmit:d,children:e.jsxs("div",{className:"input-div",children:[e.jsx("input",{className:"input",ref:s,type:"text",placeholder:"검색어를 입력하세요.",value:c,onChange:n,maxLength:10}),t&&e.jsx(g,{className:"clear-button",onClick:r})]})})},_=()=>e.jsx("div",{className:"SearchedWords",children:e.jsxs("div",{className:"no-word-container",children:[e.jsx("div",{className:"title",children:"앗!"}),e.jsx("div",{className:"subtitle",children:"최근 검색어 내역이 없어요."})]})}),M=({onWordClick:a})=>{const[c,l]=x(v),s=i=>{l(n=>n.filter(d=>d.id!==i))},t=()=>{l([])};return c.length===0?e.jsx(_,{}):e.jsxs("div",{className:"SearchedWords",children:[e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"title",children:"최근 검색어"}),e.jsx("div",{className:"all-delete",onClick:t,children:"전체 삭제"})]}),e.jsx("div",{className:"word-list",children:c.map(i=>e.jsxs("div",{className:"word-item",children:[e.jsx("div",{onClick:()=>a(i.title),children:i.title}),e.jsx(g,{className:"word-delete",onClick:()=>s(i.id)})]},i.id))})]})},b=({searchResults:a,onWordClick:c})=>{const l=S(),s=t=>{l(`/music/drop/${t.id}`,{state:{song:t}})};return e.jsx("div",{className:"MusicList",children:a&&a.length>0?e.jsx("div",{className:"searchResults",children:a.map(t=>e.jsxs("div",{className:"result-item",onClick:()=>s(t),children:[e.jsx("div",{className:"image-container",children:e.jsx("img",{src:t.image})}),e.jsxs("div",{className:"item-wide",children:[e.jsxs("div",{className:"item-detail",children:[e.jsx("div",{className:"item-title",children:t.title}),e.jsx("div",{className:"item-artist",children:t.artist})]}),e.jsx("div",{className:"item-length",children:t.playtime})]})]},t.id))}):e.jsx(M,{onWordClick:c})})},L=()=>{const[a,c]=u.useState([]),[l,s]=x(N),[t,i]=x(v);u.useEffect(()=>{l!==""&&n(l)},[]);const n=r=>{s(r),r!==""&&i(o=>{const f=o.length?o[o.length-1].id:0;return[...o,{id:f+1,title:r}]}),c(r?[{id:1,image:h,artist:"aespa",title:"Spicy",playtime:"3:45"},{id:2,image:j,artist:"아일릿",title:"노래2",playtime:"4:05"},{id:3,image:p,artist:"잔나비",title:"노래3",playtime:"2:30"},{id:4,image:p,artist:"빈지노",title:"노래3",playtime:"2:30"},{id:5,image:h,artist:"문신웅",title:"젠킨슨은 어려워젠킨슨은 어려워젠킨슨은 어려워젠킨슨은 어려워",playtime:"2:30"},{id:6,image:j,artist:"강민정",title:"김도영 힘차게 달려라",playtime:"2:30"},{id:7,image:p,artist:"정태윤",title:"타이거즈 나성범 홈런",playtime:"2:30"},{id:8,image:h,artist:"임승연",title:"작은거인 기아 김선빈",playtime:"2:30"},{id:9,image:j,artist:"허승경",title:"타이거즈 소크라테스",playtime:"2:30"}]:[])},d=r=>{s(r),n(r),console.log(t)};return e.jsxs("div",{className:"MusicSearchPage",children:[e.jsxs("div",{className:"container",children:[e.jsx(y,{}),e.jsx(C,{onSearch:n,title:l,setTitle:s})]}),e.jsx(b,{searchResults:a,onWordClick:d})]})};export{L as default};
