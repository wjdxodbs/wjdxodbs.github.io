import{a as h,R as x,c as f,j as s}from"./index-fQ9Gg1a8.js";import{b as g}from"./index-C168K_mX.js";import{s as j,i as v}from"./atoms-BAOshDLW.js";import{T as S,t as y}from"./toastMsg-C1yR8Zdb.js";const b=()=>{const c=h(),o=x(j),[e,n]=f(v),r=async t=>{const a=t.trim(),i=encodeURIComponent(a);i!==""?c(`/music/search/results?query=${i}`,{replace:!0}):c("/music/search",{replace:!0})},l=t=>{n(t.target.value),t.target.value===""&&r("")},u=t=>{t.preventDefault(),e!==""&&(r(e),e.trim()!==""?o(a=>{const i=a.length?a[0].id+1:0,m=a.filter(p=>p.title!==e);return[{id:i,title:e},...m]}):(y("검색어를 입력하세요"),n("")))},d=()=>{n(""),r("")};return s.jsxs("div",{className:"MusicSearchInput",children:[s.jsx("form",{onSubmit:u,children:s.jsxs("div",{className:"input-div",children:[s.jsx("input",{className:"input",type:"text",placeholder:"쓰롱 할 음악을 검색하세요",value:e,onChange:l,maxLength:30}),e&&s.jsx(g,{className:"clear-button",onClick:d})]})}),s.jsx(S,{})]})};export{b as M};
