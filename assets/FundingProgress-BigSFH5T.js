import{r as c,j as e}from"./index-DSs0NPxt.js";import{N as u}from"./NoneNavHeader-C5a6j-F4.js";import{a as g}from"./axios-Bo0ATomq.js";import{T as f}from"./Common-BFEyL_k1.js";import{t as m}from"./commonFunction-Bv1qyPAQ.js";import"./index-Dp7mA2MP.js";import"./index-BqXQZyDN.js";const j=["단순 변심","펀딩 변경","기타"],b=({id:s,handleClickFalse:l})=>{const[a,h]=c.useState(""),[n,r]=c.useState(""),p=localStorage.getItem("jwt"),o=t=>{const{value:i}=t.target;i!=="기타"&&r(""),h(i)},d=t=>r(t.target.value),x=async()=>{const t=a==="기타"?n:a;if(!t){m("사유를 알려주세요");return}const i={cancelReason:t,orderId:s};try{const v=await g.post(`http://j10C204.p.ssafy.io:8084/fundings/orders/${s}/refund`,i,{headers:{"Content-Type":"application/json",Authorization:p}});console.log(v.data)}catch(v){console.log(v)}};return e.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center bg-black bg-opacity-80 p-[3vh]",children:e.jsxs("div",{className:"bg-bgGray p-[3vh] flex flex-col gap-[3vh] rounded-[2vh] shadow-test",children:[e.jsxs("div",{children:[e.jsx("div",{className:"a text-[2.5vh] font-bold ",children:"펀딩 취소 사유를 선택해 주세요."}),e.jsx("div",{className:"text-[1.5vh] text-textGray",children:"펀딩 취소 시, 결제 금액이 환불 됩니다."})]}),e.jsxs("div",{className:"text-[2vh] flex flex-col gap-[0.5vh]",children:[j.map(t=>e.jsxs("label",{className:"flex gap-[1vh]",children:[e.jsx("input",{type:"radio",name:"type",value:t,onChange:o,checked:a===t}),t]},t)),e.jsx("input",{disabled:a!=="기타",placeholder:"사유를 알려주세요 (필수)",type:"text",value:n,onChange:d,className:"rounded-[0.5vh] text-black p-[1vh] w-full"})]}),e.jsxs("div",{className:"w-full flex gap-[2vh] text-[2vh] font-bold",children:[e.jsx("button",{className:"flex-1 bg-[#EFEFEF] text-bgGray p-[1.5vh] rounded-[1vh] shadow-bgwhite",onClick:l,children:"닫기"}),e.jsx("button",{className:"flex-1 text-white bg-red-600 p-[1.5vh] rounded-[1vh] shadow-bgRed",onClick:x,children:"취소"})]}),e.jsx(f,{})]})})},N=({item:s})=>{const[l,a]=c.useState(!1),h=()=>a(!0),n=()=>a(!1),r=p=>{const o=new Date(p),d=new Date;o.setHours(0,0,0,0),d.setHours(0,0,0,0);const x=o.getTime()-d.getTime();return Math.round(x/(1e3*60*60*24))};return e.jsxs("div",{className:"flex flex-col bg-bgGray p-[2vh] rounded-[1vh] gap-[2vh] shadow-test",children:[e.jsxs("div",{className:"w-full flex gap-[2vh]",children:[e.jsx("img",{className:"w-[9vh] h-[13vh] object-cover rounded-[0.5vh] brightness-[90%]",src:s.url,alt:"",loading:"lazy"}),e.jsxs("div",{className:" flex flex-col justify-between relative w-full",children:[e.jsxs("div",{className:"flex items-center w-full gap-[2vh]",children:[e.jsx("div",{className:"flex-1 text-[2.5vh] font-bold w-0 overflow-hidden text-ellipsis whitespace-nowrap ",children:s.title}),e.jsx("div",{className:" text-[1.5vh] text-textGray",children:`D-${r(s.date)}`})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[1.5vh] py-[1vh] font-bold",children:`${s.per}% 진행중`}),e.jsx("div",{className:"w-full h-[1.5vh] rounded-[1vh] parent",children:e.jsx("div",{style:{width:`${s.per}%`},className:"bg-[#fffbb1] rounded-[1vh] h-full brightness-100"})})]})]})]}),e.jsx("button",{className:"p-[1vh] border border-textGray rounded-[1vh] text-[2vh]",onClick:h,children:"펀딩취소"}),l&&e.jsx(b,{id:s.id,handleClickFalse:n})]})},I=()=>{const[s]=c.useState([{id:0,title:"눈부신 하루 - 옴니버스영화 : 보물섬, 엄마 찾아 삼만리, 공항남녀",url:"https://blog.kakaocdn.net/dn/ze2jB/btqBSNSSM9q/ZfRVZvWMDlpJUvSa6SEHC0/img.jpg",per:75,date:"2024.03.26"},{id:1,title:"더 문",url:"https://thumb.mtstarnews.com/06/2023/08/2023080115114051612_1.jpg/dims/optimize",per:20,date:"2024.04.01"},{id:2,title:"파묘",url:"https://spnimage.edaily.co.kr/images/photo/files/NP/S/2024/03/PS24030200047.jpg",per:40,date:"2024.05.01"},{id:3,title:"폼페이",url:"https://cdn.huffingtonpost.kr/news/photo/201506/6399_10649.jpeg",per:98,date:"2024.03.30"},{id:4,title:"기생충",url:"https://blog.kakaocdn.net/dn/ze2jB/btqBSNSSM9q/ZfRVZvWMDlpJUvSa6SEHC0/img.jpg",per:75,date:"2024.05.01"},{id:5,title:"더 문",url:"https://thumb.mtstarnews.com/06/2023/08/2023080115114051612_1.jpg/dims/optimize",per:20,date:"2024.05.01"},{id:6,title:"파묘",url:"https://spnimage.edaily.co.kr/images/photo/files/NP/S/2024/03/PS24030200047.jpg",per:40,date:"2024.05.01"},{id:7,title:"폼페이",url:"https://cdn.huffingtonpost.kr/news/photo/201506/6399_10649.jpeg",per:98,date:"2024.05.01"}]);return e.jsxs("div",{className:"FundingProgress",children:[e.jsx(u,{centerText:"무딩중"}),e.jsx("div",{className:"none-scroll h-[93vh] overflow-auto p-[3vh] flex flex-col gap-[3vh] ",children:s.map(l=>e.jsx(N,{item:l},l.id))})]})};export{I as default};
