import{r as c,j as e,a as f}from"./index-BEJzGj3y.js";const N=({setIsCorrect:t,setCanSubmit:i})=>{const[n,r]=c.useState(null),l="여기에 객관식 문제 뿌려~~~",u=[{id:1,text:"보기1"},{id:2,text:"보기2"},{id:3,text:"보기3"},{id:4,text:"보기4"}],o=3,a=s=>{r(s),t(s===o),i(!0)};return e.jsxs("div",{className:"QuizMultipleChoice",children:[e.jsx("h2",{children:"Q1."}),e.jsx("div",{className:"mc-question",children:e.jsx("p",{children:l})}),e.jsx("div",{className:"mc-choice",children:u.map(s=>e.jsxs("div",{className:`choice ${n===s.id?"selected":""}`,onClick:()=>a(s.id),children:[s.id,". ",s.text]},s.id))})]})},p="/assets/o-CzCdy8yD.webp",Q="/assets/x-C_HdehgS.webp",S=({setIsCorrect:t,setCanSubmit:i})=>{const[n,r]=c.useState(""),l="여기에 OX문제 뿌려~~",u="O",o=a=>{r(a),t(a===u),i(!0)};return e.jsxs("div",{className:"QuizOX",children:[e.jsx("h2",{children:"Q3."}),e.jsx("div",{className:"ox-question",children:l}),e.jsxs("div",{className:"ox-answers",children:[e.jsx("div",{className:`o-answer ${n==="O"?"selected":""}`,onClick:()=>o("O"),children:e.jsx("img",{src:p,alt:"O"})}),e.jsx("div",{className:`x-answer ${n==="X"?"selected":""}`,onClick:()=>o("X"),children:e.jsx("img",{src:Q,alt:"X"})})]})]})},w=({setIsCorrect:t,setCanSubmit:i})=>{const[n,r]=c.useState(""),l="여기에 주관식 문제 뿌려뿌려~",u="정답",o=s=>{const d=s.target.value;r(d),i(d.trim()!=="")},a=()=>{const s=n.trim()===u;t(s)};return e.jsxs("div",{className:"QuizSubjective",children:[e.jsx("h2",{children:"Q2."}),e.jsx("div",{className:"sub-question",children:l}),e.jsx("h2",{children:"정답 입력"}),e.jsx("input",{type:"text",placeholder:"정답을 입력 해 주세요.",className:"sub-answer",value:n,onChange:o,onBlur:a})]})},z=({timeLeft:t,setTimeLeft:i})=>(c.useEffect(()=>{const n=setInterval(()=>{i(r=>r>0?r-1:(clearInterval(n),0))},1e3);return()=>clearInterval(n)},[i]),e.jsxs("div",{className:"QuizTimeBar",children:[e.jsx("div",{className:`quiz-timer-bar ${t===0?"timeout":""}`}),e.jsx("div",{className:"quiz-timer",children:t})]})),q=()=>{const[t,i]=c.useState(0),[n,r]=c.useState(""),[l,u]=c.useState(null),[o,a]=c.useState(!1),[s,d]=c.useState(20),x=f(),m=["객관식","주관식","OX"];c.useEffect(()=>{t>=m.length?x("/quiz/success"):r(m[t])},[t,x]),c.useEffect(()=>{s===0&&x("/quiz/fail")},[s,x]);const j=()=>{if(l===null){x("/quiz/fail");return}l?v():x("/quiz/fail")},v=()=>{d(20),a(!1),i(t+1)},C=()=>{const h={setIsCorrect:u,setTimeLeft:d,setCanSubmit:a};switch(n){case"객관식":return e.jsx(N,{...h});case"주관식":return e.jsx(w,{...h});case"OX":return e.jsx(S,{...h});default:return null}};return e.jsxs("div",{className:"QuizSolvePage",children:[e.jsx(z,{timeLeft:s,setTimeLeft:d},t),C(),o&&e.jsx("button",{onClick:j,className:"submission-button",children:"제출"})]})};export{q as default};
