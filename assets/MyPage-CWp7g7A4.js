import{r as i,j as e,g as v,d as j,c as f,h as N}from"./index-srdwkgzz.js";import{H as g}from"./Header-DjJDrOrV.js";import{F as y,b as p,c as M}from"./index-BOjChQAv.js";import{G as x}from"./iconBase-DEYuwDOq.js";import{a as w}from"./common-rEVp0r0a.js";const C=()=>{const[s]=i.useState(1),[l]=i.useState(7),[r]=i.useState(8),[d]=i.useState(!1);i.useEffect(()=>{},[]);const c=t=>{switch(t){case 2:return"linear-gradient(to right, #ffffff, var(--level-platinum))";case 3:return"linear-gradient(to right, #ffffff, var(--main-color))";default:return"linear-gradient(to right, #ffffff, var(--level-gold))"}},n=t=>{switch(t){case 2:return"var(--level-platinum)";case 3:return"var(--main-color)";default:return"var(--level-gold)"}},o=t=>{switch(t){case 1:return"이어폰";case 2:return"버즈";case 3:return"버즈프로";default:return"이어폰"}},m=()=>{let t,a;return s===1?(t=20,a=l):(t=100,a=l+r),a/t*100};return e.jsx("div",{className:"MyLevel",children:d?e.jsx("div",{className:"block-message",children:e.jsx("p",{children:"7일 동안 음악 두기 기능이 정지됩니다."})}):e.jsxs("div",{className:"level-div",children:[e.jsxs("div",{className:"level-info",children:[e.jsxs("div",{className:"level-color",style:{color:n(s),border:`2px solid ${n(s)}`},children:["Lv.",s," ",o(s)]}),e.jsxs("div",{className:"drop-pick",children:["두기 : ",l,s===1&&e.jsx("span",{children:"/20"}),s===2&&e.jsx("span",{children:"/100"}),s===3&&e.jsx("span",{children:"/100"})]}),s!==1&&e.jsxs("div",{className:"drop-pick",children:["줍기 : ",r,s===2&&e.jsx("span",{children:"/100"}),s===3&&e.jsx("span",{children:"/100"})]})]}),e.jsx("div",{className:"level-bar",children:e.jsx("div",{className:"level-bar-fill",style:{width:`${m()}%`,background:c(s)}})})]})})};function H(s){return x({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2.00488 9.49979V3.99979C2.00488 3.4475 2.4526 2.99979 3.00488 2.99979H21.0049C21.5572 2.99979 22.0049 3.4475 22.0049 3.99979V9.49979C20.6242 9.49979 19.5049 10.6191 19.5049 11.9998C19.5049 13.3805 20.6242 14.4998 22.0049 14.4998V19.9998C22.0049 20.5521 21.5572 20.9998 21.0049 20.9998H3.00488C2.4526 20.9998 2.00488 20.5521 2.00488 19.9998V14.4998C3.38559 14.4998 4.50488 13.3805 4.50488 11.9998C4.50488 10.6191 3.38559 9.49979 2.00488 9.49979ZM14.0049 4.99979H4.00488V7.96755C5.4866 8.7039 6.50488 10.2329 6.50488 11.9998C6.50488 13.7666 5.4866 15.2957 4.00488 16.032V18.9998H14.0049V4.99979ZM16.0049 4.99979V18.9998H20.0049V16.032C18.5232 15.2957 17.5049 13.7666 17.5049 11.9998C17.5049 10.2329 18.5232 8.7039 20.0049 7.96755V4.99979H16.0049Z"},child:[]}]})(s)}const b=()=>e.jsx("div",{className:"MyPageMenu",children:e.jsxs("div",{className:"menu-body",children:[e.jsxs("div",{className:"menu-item",children:[e.jsx(y,{}),e.jsx("div",{className:"desc",children:"알림"})]}),e.jsxs("div",{className:"menu-item",children:[e.jsx(H,{}),e.jsx("div",{className:"desc",children:"쿠폰함"})]}),e.jsxs("div",{className:"menu-item",children:[e.jsx(p,{}),e.jsx("div",{className:"desc",children:"활동"})]})]})});function L(s){return x({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.657 5.304c-3.124-3.073-8.189-3.073-11.313 0-3.124 3.074-3.124 8.057 0 11.13l5.656 5.565 5.657-5.565c3.124-3.073 3.124-8.056 0-11.13zm-5.657 8.195c-.668 0-1.295-.26-1.768-.732-.975-.975-.975-2.561 0-3.536.472-.472 1.1-.732 1.768-.732s1.296.26 1.768.732c.975.975.975 2.562 0 3.536-.472.472-1.1.732-1.768.732z"},child:[]}]})(s)}const u=w(),k=async()=>{try{const s=await u.get("/users/user/thrown-music");return console.log(s.data),s}catch(s){console.log(s)}},S=async()=>{try{const s=await u.get("/users/user/picked-music");return console.log(s.data),s}catch(s){console.log(s)}},F=({pageIdx:s,setHistoryCnt:l})=>{const[r,d]=i.useState([]),[c,n]=i.useState(!1),o=i.useCallback(async()=>{if(c)return;n(!0);const t=s?await S():await k();t&&t.data&&(d(a=>[...a,...t.data]),l(a=>a+t.data.length)),n(!1)},[s,c]);i.useEffect(()=>{const t=()=>{window.innerHeight+document.documentElement.scrollTop,document.documentElement.offsetHeight};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[o]);const m=t=>{console.log(t)};return e.jsx("div",{className:"MyThrowngHistroyList",children:e.jsx("div",{className:"list-body",children:r.length>0?r.map((t,a)=>e.jsxs("div",{className:"result-item",onClick:()=>m(t),children:[e.jsxs("div",{className:"item-header",children:[e.jsx("div",{className:"item-date",children:t.date}),e.jsxs("div",{className:"item-location",children:[e.jsx(L,{})," ",t.location]})]}),e.jsxs("div",{className:"item",children:[e.jsx("div",{className:"img-container",children:e.jsx("img",{src:t.albumImage})}),e.jsxs("div",{className:"item-detail",children:[e.jsx("div",{className:"item-title",children:t.title}),e.jsx("div",{className:"item-artist",children:t.artist}),e.jsx("div",{className:"item-comment",children:t.comment})]})]})]},a)):e.jsx("div",{className:"no-result",children:"내역이 없습니다."})})})},h=v({key:"throwngFilterModal",default:!1});v({key:"throwngFilter",default:"오늘"});const T=()=>{const s=j(h);return e.jsxs("div",{className:"MyThrowngHistoryFilterModal",children:[e.jsx("div",{className:"background",onClick:()=>s(!1)}),e.jsxs("div",{className:"modal",children:[e.jsx("div",{className:"header",children:"상세조회"}),e.jsx("hr",{}),e.jsxs("div",{className:"body",children:[e.jsx("div",{className:"body-header",children:"조회기간"}),e.jsxs("div",{className:"filter-list",children:[e.jsx("div",{className:"filter-item",children:"오늘"}),e.jsx("div",{className:"filter-item",children:"이번 주"}),e.jsx("div",{className:"filter-item",children:"이번 달"}),e.jsx("div",{className:"filter-item",children:"전체"})]})]})]})]})},V=()=>{const[s,l]=i.useState(!1),[r,d]=i.useState(0),[c,n]=f(h),o=N(h);i.useEffect(()=>{o()},[]);const m=()=>{n(!c)};return e.jsxs("div",{className:"MyThrowngHistoryMenu",children:[e.jsxs("div",{className:"menu-header",children:[e.jsxs("div",{className:"header-btn-div",children:[e.jsx("div",{className:`btn-item ${s?"active":""}`,onClick:()=>l(!1),children:"두기"}),e.jsx("div",{className:`btn-item ${s?"":"active"}`,onClick:()=>l(!0),children:"줍기"})]}),e.jsxs("div",{className:"song-cnt",children:["전체 ",r,"개"]}),e.jsx("div",{className:"filter-div",onClick:m,children:e.jsxs("div",{className:"filter",children:[e.jsx("div",{children:"필터"}),e.jsx(M,{})]})})]}),e.jsx(F,{pageIdx:s,setHistoryCnt:d}),c&&e.jsx(T,{})]})},I=()=>e.jsxs("div",{className:"MyPage",children:[e.jsx(g,{centerText:"My쓰롱"}),e.jsxs("div",{className:"body",children:[e.jsx("div",{className:"name",children:"타이거즈~소크라테스🐅"}),e.jsx(C,{}),e.jsx(b,{}),e.jsx(V,{})]})]});export{I as default};
