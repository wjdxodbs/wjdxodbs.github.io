import{j as e,b as B,r as t,u as P,k as S,d as M}from"./index--j5u57V6.js";/* empty css                      */import{c as R,e as E,s as F,f as U,d as O,p as _}from"./board-trRPgBQ3.js";import{d as $,a as z}from"./FavoriteBorder-D-EIdSfE.js";import{d as H}from"./Send-B2xO9oED.js";import{H as A}from"./Header-YjuAoTLL.js";import{b as J,M as K,a as q}from"./marker_place-zbA30kZm.js";import"./commons--RmDgXK-.js";import"./axios-L6U4YIEh.js";import"./backSymbol-0aRp874W.js";const G=({lat:r,lng:c})=>e.jsx(J,{center:{lat:r,lng:c},draggable:!1,zoomable:!1,level:10,children:e.jsx(K,{position:{lat:r,lng:c},image:{src:q,size:{width:28,height:40}}})}),ie=()=>{var g;const r=B(),[c,Q]=t.useState((g=r.state)==null?void 0:g.categoryId),x=P(),{id:d}=S(),[a,u]=t.useState({}),h=3330361706,[j,p]=t.useState([]),v=JSON.parse(localStorage.getItem("user")),[b,n]=t.useState(),[N,o]=t.useState();t.useEffect(()=>{m()},[]);const m=async()=>{await R(d).then(s=>{u(s),s.isLiked?(n(!0),o(s.likeCnt)):(n(!1),o(s.likeCnt))})},f=async()=>{window.confirm("게시글을 삭제하시겠습니까?")&&await E(d).then(s=>{console.log(s),alert("삭제되었습니다."),x("/media/board")})},y=async()=>{console.log(r.state),window.confirm("게시글을 수정하시겠습니까?")&&x(`/media/board/modify/${d}`,{state:{categoryId:c}})},k=s=>{const l=s+"",i=l.substring(0,10),L=l.substring(11,16);return console.log(i),i+" "+L},I=async s=>{s.key==="Enter"&&(await F(d,j).then(l=>{m()}),p(""))},w=async s=>{await U(d,s).then(l=>{m()})},C=async s=>{await O(s).then(l=>{n(!1),o(i=>i-1)})},D=async s=>{await _(s).then(l=>{n(!0),o(i=>i+1)})};return Object.keys(a).length?e.jsxs(e.Fragment,{children:[e.jsx(A,{}),a&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"board-detail-area",children:[e.jsxs("div",{className:"board-detail-item",children:[e.jsxs("div",{className:"board-title",children:[e.jsx("img",{className:"board-detail-profile",src:a.profileImageUrl,alt:"프로필"}),e.jsx("div",{className:"board-nickname",children:a.nickName}),e.jsxs("div",{className:"like-area",children:[b&&e.jsx("div",{className:"post-icon post-like",children:e.jsx($,{onClick:()=>C(a.boardId)})}),!b&&e.jsx("div",{className:"post-icon",children:e.jsx(z,{onClick:()=>D(a.boardId)})}),e.jsx("div",{className:"like",children:N})]})]}),e.jsx("img",{className:"board-content-img",src:a.boardImageUrl,alt:""}),e.jsx("div",{className:"board-text",children:a.content}),e.jsxs("div",{className:"board-hashtag-area",children:[a.fishName&&e.jsx("div",{className:"blue-bd",children:e.jsxs("div",{className:"blue-fc",children:["# ",a.fishName]})}),a.hashtags&&e.jsx(e.Fragment,{children:a.hashtags.map((s,l)=>e.jsx("div",{className:"blue-bd",children:e.jsxs("div",{className:"blue-fc ",children:["# ",s]})},l))})]}),a.socialId==h&&e.jsxs("div",{className:"btn-area",children:[e.jsx("div",{className:"btn-modify bg-blue",onClick:()=>y(),children:"수정"}),e.jsx("div",{className:"btn-delete bg-blue",onClick:()=>f(),children:"삭제"})]})]}),e.jsx("div",{className:"line bg-blue"}),e.jsxs("div",{className:"board-detail-item",children:[e.jsx("div",{className:"board-place",children:"Place Info"}),e.jsx("div",{className:"board-map",children:e.jsx(G,{lat:a.latitude,lng:a.longitude})})]}),e.jsx("div",{className:"line bg-blue"}),e.jsxs("div",{className:"reply-area",children:[e.jsxs("div",{className:"reply-title",children:[e.jsx("div",{children:"댓글"}),e.jsx("div",{className:"blue-fc",children:a.commentCnt})]}),e.jsx("div",{className:"reply-line bg-blue"}),e.jsx("div",{className:"reply-list",children:a.comments&&e.jsx(e.Fragment,{children:a.comments.map((s,l)=>e.jsxs("div",{className:"reply",children:[e.jsx("img",{src:s.profileImageUrl,alt:""}),e.jsx("div",{children:s.nickName}),e.jsx("div",{children:k(s.createdAt)}),e.jsx("div",{children:s.content}),s.socialId==h&&e.jsx("span",{className:"delete-reply blue-fc",onClick:()=>w(s.id),children:"x"})]},l))})})]})]}),e.jsxs("div",{className:"reply-add",children:[e.jsx("div",{className:"reply-line bg-blue"}),e.jsx("img",{src:v.imageUrl,alt:""}),e.jsxs("div",{className:"reply-add-area",children:[e.jsx("input",{type:"text",value:j,onChange:s=>p(s.target.value),onKeyDown:s=>I(s),placeholder:"댓글작성하기"}),e.jsx("div",{className:"send-reply bg-blue",children:e.jsx(H,{})})]})]})]})]}):(console.log(1),e.jsx(M,{}))};export{ie as default};
