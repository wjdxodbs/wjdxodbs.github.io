import{r as c,j as t}from"./index-C-dQ0AoL.js";import{H as n}from"./Header-B_yPshPR.js";import{M as d}from"./MusicDropBtn-D_CWM2_Z.js";import{a as l}from"./common-BDZuGjqk.js";import"./iconBase-CDnmFXY4.js";import"./AddressContent-QN2Ogi2W.js";const p=l(),m=async()=>{try{const{data:s}=await p.get("/users/watch/otp");return s}catch(s){throw console.log(s),s}},x=()=>{const[s,o]=c.useState(""),[e,r]=c.useState(0),i=async()=>{const a=await m();o(a),r(60),setTimeout(()=>{o(""),r(0)},6e4)};return c.useEffect(()=>{if(e>0){const a=setInterval(()=>{r(e-1)},1e3);return()=>clearInterval(a)}},[e]),t.jsxs("div",{className:"MyOtpBody",children:[t.jsxs("div",{className:"otp-title",children:[s?t.jsx("div",{className:"otp-number",children:s}):t.jsx("div",{className:"otp-no-result",children:"발급된 번호가 없습니다"}),t.jsxs("div",{className:"otp-desc",children:[t.jsx("div",{children:"60초 내에 발급된 번호를"}),t.jsx("div",{children:"워치 화면에 입력해주세요"}),s!==""&&t.jsxs("div",{children:["유효시간 : ",e,"초"]})]})]}),t.jsx(d,{onClick:i,btnText:"발급받기"})]})},N=()=>t.jsxs("div",{className:"OtpPage",children:[t.jsx(n,{centerText:"연동하기"}),t.jsx("div",{className:"body",children:t.jsx(x,{})})]});export{N as default};
