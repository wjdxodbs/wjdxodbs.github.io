import{r as s,j as e,R as h,i as g}from"./index-srdwkgzz.js";import{H as j}from"./Header-DjJDrOrV.js";import{w as x}from"./whiteBox-CgJCDTJb.js";import{a as v}from"./index-BiSKwEci.js";import{l as p}from"./atoms-BJ1mFXVh.js";import"./iconBase-DEYuwDOq.js";const f=({songInfo:c})=>{const[t,u]=s.useState(""),n=s.useRef(null),l=s.useRef(null),[r,o]=s.useState(!1);s.useEffect(()=>{if(l.current){const i=l.current.scrollWidth,m=l.current.clientWidth;i>m?o(!0):o(!1)}},[]);const d=()=>{n.current.click()},a=i=>{if(i.target.files&&i.target.files[0]){const m=i.target.files[0];u(URL.createObjectURL(m))}};return e.jsxs("div",{className:"MusicDropHeader",children:[e.jsx("div",{className:"album-image-container",children:e.jsx("img",{className:"album-image",src:c.albumImage,alt:""})}),e.jsxs("div",{className:"cover",children:[e.jsx("div",{className:"black-cover"}),e.jsx("div",{className:"black-gradient"}),e.jsxs("div",{className:"content",children:[e.jsx(j,{}),e.jsxs("div",{className:"content-bottom",children:[e.jsxs("div",{children:[e.jsx("div",{className:"title",children:e.jsx("div",{ref:l,className:`scrolling-text ${r?"animated":""}`,children:c.title})}),e.jsx("div",{className:"artist",children:c.artist})]}),e.jsxs("div",{className:"upload-image-div",onClick:d,children:[e.jsx("img",{src:t||x,alt:"",className:"upload-image",onError:i=>{i.currentTarget.src=x}}),!t&&e.jsx(v,{})]}),t&&e.jsx("div",{className:"reselect-image",onClick:d,children:"이미지 다시 선택하기"}),e.jsx("input",{type:"file",ref:n,hidden:!0,onChange:a,className:"image-input"})]})]})]})]})},N=()=>{const[c,t]=s.useState(0),[u,n]=s.useState(""),l=s.useRef(null),r=h(p),o=a=>{a.target.value.length<=50?(n(a.target.value),t(a.target.value.length)):alert("텍스트는 최대 50자까지 입력 가능합니다.")},d=()=>{console.log(`Latitude: ${r.lat}, Longitude: ${r.lng}`);const a="youtubemusic://watch?list=gwuCZYJdnT8";window.location.href=a};return e.jsx("div",{className:"MusicDrop",children:e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"header",children:[e.jsxs("p",{children:[e.jsx("span",{children:"어드레스"}),"에"]}),"음악을 두고 갈까요?"]}),e.jsxs("div",{className:"input-div",children:[e.jsx("textarea",{onChange:o,placeholder:"노래, 현재 감정, 상황, 관련 에피소드, 거리, 가수 등 떠오르는 말을 적어보세요.",value:u,maxLength:50,className:"input-area",ref:l}),e.jsxs("div",{className:"input-count",children:[c,"/50"]})]}),e.jsx("div",{className:"waring-div",children:e.jsx("div",{className:"warning-msg",children:"텍스트 및 사진은 생략이 가능하며 욕설, 성희롱, 비방과 같은 내용은 삭제됩니다."})}),e.jsx("div",{className:"put-btn-div",children:e.jsx("button",{className:"put-btn",onClick:d,children:"나.. 너.. 쓰롱한다..❤"})})]})})},L=()=>{const t=g().state;return e.jsxs(e.Fragment,{children:[e.jsx(f,{songInfo:t.song}),e.jsx(N,{})]})};export{L as default};
