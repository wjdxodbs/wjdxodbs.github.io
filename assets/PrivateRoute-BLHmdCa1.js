import{a as c,b as u,r as o,j as n,O as m,N as p}from"./index-CkMYCJQD.js";import{g as l}from"./getIsLogin-3eh5YsRU.js";const f=async()=>{if("permissions"in navigator)try{return(await navigator.permissions.query({name:"geolocation"})).state}catch{return"blocked"}else return"not-supported"},g=async()=>{try{const e=await f();return["granted","prompt"].includes(e)}catch(e){throw e}};function x(){const e=l(),t=c(),{pathname:r}=u(),[i,a]=o.useState(!1);return o.useEffect(()=>{e&&(async()=>{try{const s=await g();r==="/none-permission"&&s?t("/",{replace:!0}):r!=="/none-permission"&&!s&&t("/none-permission",{replace:!0})}catch(s){console.error(s)}finally{a(!0)}})()},[]),e?i?n.jsx(m,{}):null:n.jsx(p,{to:"/login",replace:!0})}export{x as default};
